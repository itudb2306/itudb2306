{% extends "table_base.html" %}
{% block header %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<title>Team Details</title>
{% endblock %}


{% block table %}
<!-- Script is for modals to work. -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="..."
    crossorigin="anonymous"></script>

<h1>{{ data.name }} in {{ data.year }}</h1>

{% if current_user.is_admin %}
<div class="container-fluid mb-3 justify-content-start">
    {% include 'table_teams/utils/update_modal.html' %}
</div>
{% endif %}

<h2>Basic Information</h2>
<p>{{ data.name }} has played in the {{ data.league }} in year {{ data.year }}.
    <!--Division is null most of the time-->
    {% if data.division != None %}
    They played in the {{ data.division }} division.
    {% endif %}
    <!--Park is null rarely-->
    {% if data.park != None %}
    They played in the <em>{{ data.park }}</em> stadium.
    {% endif %}
    Their team code was {{ data.team_code }}.
    <!--Team rank is null rarely-->
    {% if data.team_rank != None %}
    They were ranked {{ data.team_rank }} in the league.
    {% endif %}
    <!--Games is null rarely-->
    {% if data.games != None %}
    They played {{ data.games }} games in the leauge.
    {% endif %}
    <!--Home games is null rarely-->
    {% if data.home_games != None %}
    They played {{ data.home_games }} games at home.
    {% endif %}
    <!--Wins is null rarely-->
    {% if data.wins != None %}
    They won {{ data.wins }} games.
    {% endif %}
    <!--Losses is null rarely-->
    {% if data.losses != None %}
    They lost {{ data.losses }} games.
    {% endif %}
    <!--Division win is null rarely-->
    {% if data.division_win != None and data.division != None %}
    {% if data.division_win == "Y" %}
    They won their division.
    {% else %}
    They did not win their division.
    {% endif %}
    {% endif %}
    <!--Wild card win is null rarely-->
    {% if data.wild_card_win != None %}
    {% if data.wild_card_win == "Y" %}
    They won the wild card.
    {% else %}
    They did not win the wild card.
    {% endif %}
    {% endif %}
    <!--League win is null rarely-->
    {% if data.league_win != None %}
    {% if data.league_win == "Y" %}
    They won the league.
    {% else %}
    They did not win the league.
    {% endif %}
    {% endif %}
    <!--World series win is null rarely-->
    {% if data.world_series_win != None %}
    {% if data.world_series_win == "Y" %}
    They won the world series.
    {% else %}
    They did not win the world series.
    {% endif %}
    {% endif %}
</p>

<h2>Some Statistics From Their Games</h2>

<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col">Runs Scored</th>
            <th scope="col">At Bats</th>
            <th scope="col">Hits</th>
            <th scope="col">Doubles</th>
            <th scope="col">Triples</th>
            <th scope="col">Homeruns</th>
            <th scope="col">Walks Batters</th>
            <th scope="col">Strikeouts Batters</th>
            <th scope="col">Stolen Bases</th>
            <th scope="col">Caught Stealing</th>
            <th scope="col">Hit By Pitch</th>
            <th scope="col">Sacrifice Flies</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                {% if data.runs_scored != None %}
                {{ data.runs_scored }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.at_bats != None %}
                {{ data.at_bats }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.hits != None %}
                {{ data.hits }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.doubles != None %}
                {{ data.doubles }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.triples != None %}
                {{ data.triples }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.homeruns != None %}
                {{ data.homeruns }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.walks_batters != None %}
                {{ data.walks_batters }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.strikeouts_batters != None %}
                {{ data.strikeouts_batters }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.stolen_bases != None %}
                {{ data.stolen_bases }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.caught_stealing != None %}
                {{ data.caught_stealing }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.hit_by_pitch != None %}
                {{ data.hit_by_pitch }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.sacrifice_flies != None %}
                {{ data.sacrifice_flies }}
                {% else %}
                N/A
                {% endif %}
            </td>
        </tr>
    </tbody>
</table>

<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col">Runs Allowed</th>
            <th scope="col">Earned Runs Allowed</th>
            <th scope="col">Earned Run Average</th>
            <th scope="col">Complete Games</th>
            <th scope="col">Shutouts</th>
            <th scope="col">Saves</th>
            <th scope="col">Outs Pitched</th>
            <th scope="col">Hits Allowed</th>
            <th scope="col">Homeruns Allowed</th>
            <th scope="col">Walks Allowed</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                {% if data.runs_allowed != None %}
                {{ data.runs_scored }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.earned_runs_allowed != None %}
                {{ data.earned_runs_allowed }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.earned_run_average != None %}
                {{ data.earned_run_average }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.complete_games != None %}
                {{ data.complete_games }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.shutouts != None %}
                {{ data.shutouts }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.saves != None %}
                {{ data.saves }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.outs_pitched != None %}
                {{ data.outs_pitched }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.hits_allowed != None %}
                {{ data.hits_allowed }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.homeruns_allowed != None %}
                {{ data.homeruns_allowed }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.walks_allowed != None %}
                {{ data.walks_allowed }}
                {% else %}
                N/A
                {% endif %}
            </td>
        </tr>
    </tbody>
</table>

<table class="table table-hover">
    <thead>
        <tr>

            <th scope="col">Strikeouts Pitchers</th>
            <th scope="col">Errors</th>
            <th scope="col">Double Plays</th>
            <th scope="col">Fielding Percentage</th>
            <th scope="col">Total Home Attendance</th>
            <th scope="col">Three-Year Batter Park Factor</th>
            <th scope="col">Three-Year Pitcher Park Factor</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                {% if data.strikeouts_pitchers != None %}
                {{ data.strikeouts_pitchers }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.errors != None %}
                {{ data.errors }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.double_plays != None %}
                {{ data.double_plays }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.fielding_percentage != None %}
                {{ data.fielding_percentage }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.attendance != None %}
                {{ data.attendance }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.batter_park_factor != None %}
                {{ data.batter_park_factor }}
                {% else %}
                N/A
                {% endif %}
            </td>
            <td>
                {% if data.pitcher_park_factor != None %}
                {{ data.pitcher_park_factor }}
                {% else %}
                N/A
                {% endif %}
            </td>
        </tr>
    </tbody>
</table>

{% endblock %}